paths:
    - ./src

exclude_files: ~
layers:
    # Libraries
    - name: lib-graph
      collectors:
          - type: directory
            regex: "src/Library/Graph/.*"

    - name: lib-task
      collectors:
          - type: directory
            regex: "src/Library/Task/.*"

    - name: lib-graphtask
      collectors:
          - type: directory
            regex: "src/Library/GraphTask/.*"

    - name: lib-instantiator
      collectors:
          - type: directory
            regex: "src/Library/Instantiator/.*"

    - name: lib-support
      collectors:
          - type: directory
            regex: "src/Library/Support/.*"

    - name: lib-util
      collectors:
          - type: directory
            regex: "src/Library/Util/.*"

    - name: lib-vcs
      collectors:
          - type: directory
            regex: "src/Library/Vcs/.*"

    - name: lib-git
      collectors:
          - type: directory
            regex: "src/Library/Git/.*"

    - name: lib-workspace
      collectors:
          - type: directory
            regex: "src/Library/Workspace/.*"

    - name: lib-script
      collectors:
          - type: directory
            regex: "src/Library/Script/.*"

    # Extensions
    - name: ext-runner
      collectors:
          - type: directory
            regex: "src/Extension/Runner/.*"

    - name: ext-script
      collectors:
          - type: directory
            regex: "src/Extension/Script/.*"

    - name: ext-task
      collectors:
          - type: directory
            regex: "src/Extension/Task/.*"

    - name: ext-template
      collectors:
          - type: directory
            regex: "src/Extension/Template/.*"

    - name: ext-workspace
      collectors:
          - type: directory
            regex: "src/Extension/Workspace/.*"

    - name: ext-git
      collectors:
          - type: directory
            regex: "src/Extension/Git/.*"

    - name: ext-vcs
      collectors:
          - type: directory
            regex: "src/Extension/Vcs/.*"

ruleset:
    lib-git:
        - lib-vcs
        - lib-script
        - lib-support

    lib-vcs: ~

    lib-graph:
        - lib-task
        - lib-instantiator

    lib-task:
        - lib-instantiator

    lib-instantiator: ~

    lib-script:
        - lib-instantiator

    ext-runner:
        - lib-graph
        - lib-task
        - lib-workspace
        - lib-instantiator
        - lib-util
        - lib-support
        - ext-vcs
        - ext-task

    ext-task:
        - lib-task
        - lib-instantiator

    ext-script:
        - lib-instantiator
        - ext-task
        - lib-task
        - lib-support
        - lib-util
        - lib-workspace
        - lib-script

    ext-workspace:
        - lib-workspace

    ext-template:
        - ext-task
        - lib-task
        - lib-support
        - lib-workspace

    ext-vcs:
        - ext-task
        - lib-instantiator
        - lib-vcs
        - lib-task
        - lib-support
        - lib-workspace
    ext-git:
        - ext-vcs
        - lib-script

