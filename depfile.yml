paths:
    - ./src

exclude_files: ~
layers:
    # Libraries
    - name: lib-graph
      collectors:
          - type: directory
            regex: "src/Library/Graph/.*"

    - name: lib-task
      collectors:
          - type: directory
            regex: "src/Library/Task/.*"

    - name: lib-graphtask
      collectors:
          - type: directory
            regex: "src/Library/GraphTask/.*"

    - name: lib-instantiator
      collectors:
          - type: directory
            regex: "src/Library/Instantiator/.*"

    - name: lib-support
      collectors:
          - type: directory
            regex: "src/Library/Support/.*"

    - name: lib-util
      collectors:
          - type: directory
            regex: "src/Library/Util/.*"

    - name: lib-vcs
      collectors:
          - type: directory
            regex: "src/Library/Vcs/.*"

    - name: lib-git
      collectors:
          - type: directory
            regex: "src/Library/Git/.*"

    - name: lib-workspace
      collectors:
          - type: directory
            regex: "src/Library/Workspace/.*"

    - name: lib-script
      collectors:
          - type: directory
            regex: "src/Library/Script/.*"

    # Extensions
    - name: ex-runner
      collectors:
          - type: directory
            regex: "src/Extension/Runner/.*"

    - name: ex-script
      collectors:
          - type: directory
            regex: "src/Extension/Script/.*"

    - name: ex-task
      collectors:
          - type: directory
            regex: "src/Extension/Task/.*"

    - name: ex-template
      collectors:
          - type: directory
            regex: "src/Extension/Template/.*"

    - name: ex-workspace
      collectors:
          - type: directory
            regex: "src/Extension/Workspace/.*"

ruleset:
    lib-git:
        - lib-vcs
        - lib-script
        - lib-support

    lib-vcs:
        - lib-support

    lib-graph:
        - lib-task
        - lib-instantiator

    lib-task:
        - lib-instantiator

    lib-instantiator: ~

    lib-script:
        - lib-instantiator

    ex-runner:
        - lib-graph
        - lib-task
        - lib-workspace
        - lib-instantiator
        - lib-util
        - lib-support
        - ex-task

    ex-task:
        - lib-task
        - lib-instantiator

    ex-script:
        - lib-instantiator
        - ex-task
        - lib-task
        - lib-support
        - lib-util
        - lib-workspace
        - lib-script

    ex-workspace:
        - lib-workspace

    ex-template:
        - ex-task
        - lib-task
        - lib-support
        - lib-workspace
